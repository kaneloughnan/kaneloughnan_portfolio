function isElementInViewport(e){var t=e.getBoundingClientRect(),r=window.innerWidth||doc.documentElement.clientWidth,i=window.innerHeight||doc.documentElement.clientHeight,n=function(e,t){return document.elementFromPoint(e,t)};return!(t.right<0||t.bottom<0||t.left>r||t.top>i)&&(e.contains(n(t.left,t.top))||e.contains(n(t.right,t.top))||e.contains(n(t.right,t.bottom))||e.contains(n(t.left,t.bottom)))}function isOdd(e){return e%2}function getProperty(e){return void 0!==e?e:""}function gallery(e){$(e).find(".inner").attr("active","");var t=$(e).attr("data-id");$.ajax({url:"/getGallery",method:"POST",data:{id:t},success:function(e){if(e.success){for(var r=0;r<e.images.length;r++)$("#slider-for").append('<div class="gallery-slide" style="background-image:url(\'img/portfolio/'+t+"/gallery/"+e.images[r]+"');\"></div>"),$("#slider-nav").append('<img src="/img/portfolio/'+t+"/gallery/"+e.images[r]+'" class="nav-slide">');$("#slider-for").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:"#slider-nav"}),$("#slider-nav").slick({slidesToShow:5,slidesToScroll:1,arrows:!1,asNavFor:"#slider-for",centerMode:!0,focusOnSelect:!0,variableWidth:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:700,settings:{slidesToShow:2}}]}),$("#gallery-description").html(e.description)}else alert("An error has occurred while retrieving images"),console.error(e.error_msgs)},error:function(e){alert("An error has occurred while retrieving images"),console.error(e)}}),$("#gallery").fadeIn(300,"linear",function(){$("body").css("overflow","hidden")})}function closeGallery(){$("#gallery").fadeOut(300,"linear",function(){$("#portfolio .tiles .tile .inner").removeAttr("active"),$("#slider-for").slick("unslick"),$("#slider-nav").slick("unslick"),$("#slider-for").html(""),$("#slider-nav").html(""),$("#gallery-description").html(""),$("body").css("overflow","auto")})}function animate(e,t){$($("#skills .icon")[e]).addClass("animated fadeInDown"),setTimeout(function(){e<=t&&animate(++e,t)},150)}function logVisit(){var e=new UAParser;$.ajax({url:"/logVisit",method:"POST",data:e.getResult(),success:function(e){e.success||console.error(e.error_msgs)},error:function(e){console.error(e)}})}$(window).on("load resize scroll",function(e){if(isElementInViewport(document.getElementById("skills"))){var t=$("#skills .icon").length-1;animate(0,t)}}),$(function(){$("#header .text").fadeIn(1e3),particlesJS.load("header","assets/particles.json",function(){setTimeout(function(){$("#header .portrait-container").fadeIn(1e3)},700)}),$("[data-scroll]").click(function(){var e=60;window.innerWidth<700&&(e=50);var t=Math.ceil($("#"+this.getAttribute("data-scroll")).position().top-e);$("html, body").animate({scrollTop:t},700)}),$('form[name="contact"]').validate({rules:{name:{required:!0},email:{required:!0,email:!0},subject:{required:!0},message:{required:!0}},messages:{name:{required:"Please enter your name"},email:{required:"Please enter your email",email:"Please enter a valid email address"},subject:{required:"Please enter a subject"},message:{required:"Please enter a message"}},submitHandler:function(e){$('form[name="contact"] input[type="submit"]').attr("disabled",!0),$('form[name="contact"] input[type="submit"]').attr("value","Sending..."),$.ajax({url:"/contact",method:"POST",data:{name:e.elements.name.value,email:e.elements.email.value,subject:e.elements.subject.value,message:e.elements.message.value},success:function(e){e.success?($('form[name="contact"]').remove(),$(".form-message").html("Thanks for your message!")):($('form[name="contact"] input[type="submit"]').attr("disabled",!1),$('form[name="contact"] input[type="submit"]').attr("value","Submit"),alert("Your message could not be sent. Please try again later"),console.error(e.error_msgs))},error:function(e){$('form[name="contact"] input[type="submit"]').attr("disabled",!1),$('form[name="contact"] input[type="submit"]').attr("value","Submit"),alert("Your message could not be sent. Please try again later"),console.error(e)}})}}),logVisit()}),$(document).keyup(function(e){27==e.keyCode&&$("#gallery").is(":visible")&&closeGallery(),37==e.keyCode&&$("#gallery").is(":visible")&&$("#slider-nav").slick("slickPrev"),39==e.keyCode&&$("#gallery").is(":visible")&&$("#slider-nav").slick("slickNext")});