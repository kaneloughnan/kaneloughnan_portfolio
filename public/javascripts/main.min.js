function isElementInViewport(e){var t=e.getBoundingClientRect(),n=window.innerWidth||doc.documentElement.clientWidth,i=window.innerHeight||doc.documentElement.clientHeight,a=function(e,t){return document.elementFromPoint(e,t)};return!(t.right<0||t.bottom<0||t.left>n||t.top>i)&&(e.contains(a(t.left,t.top))||e.contains(a(t.right,t.top))||e.contains(a(t.right,t.bottom))||e.contains(a(t.left,t.bottom)))}function gallery(e){$(e).find(".inner").attr("active","");var t=$(e).find("span").html(),n=$(e).attr("data-id");$.ajax({url:"/getGallery",method:"POST",data:{id:n},success:function(e){if(e.success)for(var i,a=0;a<e.images.length;a++)i='<a class="gallery-link" href="/images/portfolio/'+n+"/gallery/"+e.images[a]+'"><figure class="gallery-image"><img src="/images/portfolio/'+n+"/gallery/"+e.images[a]+'"><figcaption>'+t+"</figcaption></figure></a>",$("#magnific .gallery").append(i);else alert("An error has occurred while retrieving images"),console.error(e.error_msgs)},error:function(e){alert("An error has occurred while retrieving images"),console.error(e)}}),$("#magnific").fadeIn(300,"linear",function(){$("body").css("overflow","hidden")})}function closeGallery(){$("#magnific").fadeOut(300,"linear",function(){$("#portfolio .tiles .tile .inner").removeAttr("active"),$("#magnific .gallery").html(""),$("body").css("overflow","auto")})}function animateIcons(e,t){$($("#skills .icon")[e]).addClass("animated fadeInDown"),setTimeout(function(){e<=t&&animateIcons(++e,t)},150)}function logVisit(){var e=new UAParser;$.ajax({url:"/logVisit",method:"POST",data:e.getResult(),success:function(e){e.success||console.error(e.error_msgs)},error:function(e){console.error(e)}})}$(window).on("load resize scroll",function(e){if($("#cd-timeline .cd-timeline-block").each(function(e,t){isElementInViewport(t)&&($(t).find(".cd-timeline-content").css("opacity",1),e%2!=0||window.innerWidth<1170?$(t).find(".cd-timeline-content").addClass("animated slideInRight"):$(t).find(".cd-timeline-content").addClass("animated slideInLeft"))}),isElementInViewport(document.getElementById("skills"))){var t=$("#skills .icon").length-1;animateIcons(0,t)}isElementInViewport($("#contact .form-box").get(0))&&($("#contact .form-box").css("opacity",1),$("#contact .form-box").addClass("animated fadeInDown"))}),$(function(){$(".gallery-link").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return e.el.find("figcaption").text()||e.el.attr("title")}},zoom:{enabled:!0},gallery:{enabled:!0,navigateByImgClick:!1,tCounter:""},disableOn:function(){return $(window).width()>640}}),$("#header .title").css("opacity",1),$("#header .title").addClass("animated flash"),particlesJS.load("header","assets/particles.json",function(){setTimeout(function(){$("#header .portrait-container").fadeIn(1e3)},700)}),$("[data-scroll]").click(function(){var e=60;window.innerWidth<700&&(e=50);var t=Math.ceil($("#"+this.getAttribute("data-scroll")).position().top-e);$("html, body").animate({scrollTop:t},700)}),$('form[name="contact"]').validate({rules:{name:{required:!0},email:{required:!0,email:!0},subject:{required:!0},message:{required:!0}},messages:{name:{required:"Please enter your name"},email:{required:"Please enter your email",email:"Please enter a valid email address"},subject:{required:"Please enter a subject"},message:{required:"Please enter a message"}},submitHandler:function(e){$('form[name="contact"] input[type="submit"]').attr("disabled",!0),$('form[name="contact"] input[type="submit"]').attr("value","Sending..."),$.ajax({url:"/contact",method:"POST",data:{name:e.elements.name.value,email:e.elements.email.value,subject:e.elements.subject.value,message:e.elements.message.value},success:function(e){e.success?($('form[name="contact"]').remove(),$(".form-message").html("Thanks for your message!")):($('form[name="contact"] input[type="submit"]').attr("disabled",!1),$('form[name="contact"] input[type="submit"]').attr("value","Submit"),alert("Your message could not be sent. Please try again later"),console.error(e.error_msgs))},error:function(e){$('form[name="contact"] input[type="submit"]').attr("disabled",!1),$('form[name="contact"] input[type="submit"]').attr("value","Submit"),alert("Your message could not be sent. Please try again later"),console.error(e)}})}}),logVisit()}),$(document).keyup(function(e){27==e.keyCode&&$("#magnific").is(":visible")&&closeGallery()});